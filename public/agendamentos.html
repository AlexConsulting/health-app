<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health App - Gestão de Treinamentos</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    
    <div class="app-shell">
        
        <aside class="sidebar">
            <div class="logo-area">
                <div class="logo-icon">⚕️</div>
                <span>Health App</span>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="/dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
                    <li><a href="/medicos-lista.html"><i class="fas fa-list-alt"></i> Listagem Médicos</a></li>
                    <li><a href="/medicos-cadastro.html"><i class="fas fa-user-md"></i> Cadastro Médico</a></li>
                    <li class="active"><a href="/agendamentos.html"><i class="fas fa-calendar-alt"></i> Treinamentos</a></li>
                    <li><a href="/comunicados.html"><i class="fas fa-envelope-open-text"></i> Comunicados</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <div class="welcome-area">
                    <span id="welcome-message">Olá, Operador</span>
                    <button id="logout-button" class="btn btn-secondary btn-icon-only" title="Sair">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </header>
            
            <section class="list-container">
                <div class="card">
                    <div class="card-header">
                        <h2>Treinamentos Agendados</h2>
                        <div class="actions">
                        </div>
                    </div>
                    
                    <div class="filter-bar">
                        <input type="date" id="filter-data" title="Filtrar por Data">
                        <select id="filter-status" title="Filtrar por Status">
                            <option value="">Todos os Status</option>
                            <option value="PENDENTE">Pendente Integração</option>
                            <option value="CONVITE_ENVIADO">Convite Enviado (Int.)</option>
                            <option value="PRE_AGENDADO">Pré-Agendado (Int.)</option>
                            <option value="AGENDADO">Agendado (Int.)</option>
                            <option value="CONFIRMADO">Confirmado (Int.)</option>
                            <option value="REALIZADO">Meet Realizado</option>
                            
                            <option value="AGENDAMENTO_ATIVACAO_PENDENTE">Aguardando Ativação</option>
                            <option value="ATIVACAO_ENVIADA">Convite Enviado (Ativ.)</option>
                            <option value="ATIVACAO_PRE_AGENDADA">Pré-Agendado (Ativ.)</option>
                            <option value="ATIVACAO_AGENDADA">Ativação Agendada</option>
                            <option value="ATIVACAO_REALIZADA">Ativação Realizada</option>
                            
                            <option value="CANCELADO">Cancelado</option>
                        </select>
                        <select id="filter-unidade" title="Filtrar por Unidade">
                            <option value="">Todas as Unidades</option>
                        </select>
                        <div class="actions">
                            <button id="search-button" class="btn btn-primary" title="Buscar Agendamentos">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                        
                    
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr style="background-color: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left;">Data e Horário</th>
                                    <th style="padding: 12px; text-align: left;">Médico</th>
                                    <th style="padding: 12px; text-align: left;">Telefone</th> 
                                    <th style="padding: 12px; text-align: left;">Unidade</th>
                                    <th style="padding: 12px; text-align: left;">Detalhes (PALS/ACLS)</th>
                                    <th style="padding: 12px; text-align: left;">Status</th>
                                    <th style="padding: 12px; text-align: left;">Ações</th>
                                </tr>
                            </thead>
                            <tbody id="agendamentos-table-body">
                                <tr><td colspan="7" class="placeholder-text" style="text-align: center; padding: 20px;">Use os filtros acima para buscar treinamentos.</td></tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </section>

        </main>
        
    </div>

    <div id="agendamento-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3>Enviar Convite de Treinamento</h3> 
            <p>Confirme os dados e clique em "Enviar Convite" para atualizar o status e abrir o WhatsApp.</p> 
            <form id="individual-agendamento-form">
                <input type="hidden" id="agendamento-id-modal"> 
                
                <div class="form-group">
                    <label for="medico-nome-modal">Médico:</label>
                    <input type="text" id="medico-nome-modal" disabled>
                </div>
                
                <div class="form-group">
                    <label for="medico-telefone-modal">Telefone (WhatsApp):</label>
                    <input type="text" id="medico-telefone-modal" disabled> 
                </div>
                
                <div class="form-group">
                    <label for="unidade-nome-modal">Unidade de Vínculo:</label>
                    <input type="text" id="unidade-nome-modal" disabled>
                </div>
                
                <div class="form-group checkbox-group">
                    <label>Certificações Requeridas:</label>
                    <input type="checkbox" id="pals-modal" disabled> <label for="pals-modal">PALS</label>
                    <input type="checkbox" id="acls-modal" disabled> <label for="acls-modal">ACLS</label>
                </div>

                <button type="submit" id="submit-agendamento-individual" class="btn btn-primary">
                    <i class="fab fa-whatsapp"></i> Enviar Convite (WhatsApp) </button>
            </form>
        </div>
    </div>
    
    <div id="ativacao-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2><i class="fas fa-calendar-alt"></i> Agendar Ativação de Senha Assistida</h2>
            <form id="ativacao-agendamento-form">
                <input type="hidden" id="ativacao-id-modal">

                <div class="form-group">
                    <label for="ativacao-medico-nome-modal">Médico:</label>
                    <input type="text" id="ativacao-medico-nome-modal" disabled>
                </div>
                
                <div class="form-group">
                    <label for="ativacao-medico-telefone-modal">Telefone (WhatsApp):</label>
                    <input type="text" id="ativacao-medico-telefone-modal" disabled>
                </div>
                
                <div class="form-group">
                    <label for="ativacao-unidade-nome-modal">Unidade de Vínculo:</label>
                    <input type="text" id="ativacao-unidade-nome-modal" disabled>
                </div>
                
                <p class="warning-text">
                    O botão abaixo *enviará o link* para o médico agendar a ativação.
                    A ativação deve ocorrer de Segunda a Sexta, das 14h às 16h.
                </p>

                <button type="submit" id="submit-ativacao-individual" class="btn btn-primary">
                    <i class="fab fa-whatsapp"></i> Enviar Agenda para Ativação </button>
            </form>
        </div>
    </div>
    
    <script src="js/agendamentos.js"></script>
</body>
</html>